# chuck-stack-nix
This repository is incomplete. It is the current reference for deploying servers with nix templates.

Go to the [chuck-stack](https://chuck-stack.org)

# Summary
This repository includes nix configurations that are purpose specific for deployment in NixOS servers. These nix configs are designed to be composable. As a result, you can add multiple configuration files to the same server. 

Since a new NixOS has few tools installed by default, you can run the following to enter a shell with git and neovim installed:

```
nix-shell --packages git neovim
cd /etc/nixos/
git clone https://github.com/chuckstack/chuboe-nix.git
nvim configuration.nix #make below changes
exit
```

Here is an example where you want to run postgresql and iDempiere on the same server:

```
...
  imports =
    [
      # Include the default lxd configuration.
      "${modulesPath}/virtualisation/lxc-container.nix"
      # Include the container-specific autogenerated configuration.
      ./lxd.nix
      ./chuboe-nix/chuboe-system.nix  # here
      ./chuboe-nix/chuboe-postgresql.nix  # here
      ./chuboe-nix/chuboe-idempiere.nix  # here
    ];
...
```

To rebuild with the new configuration:
```
nixos-rebuild switch
```

# Details
- This repository is incomplete
- Missing nginx reverse proxy configuration
- Missing secrets management
